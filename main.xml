<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="./sproject_html.xsl"?>
<!DOCTYPE sproject SYSTEM "sproject.dtd">
<sproject>
    <course database="Oracle" version="11">
        <cname>Datab√°zov√© syst√©my</cname>
            <code>BI-DBS.21</code>
            <semester>DBS-2025</semester>
            <seminar>Monday 12:45, Both weeks, paralelka 202520</seminar>
    </course>
        <author>
            <aname>Igor Belyakov</aname>
            <uname>xbeli008</uname>
            <email>xbeli008@studenti.czu.cz</email>
        </author>
    <content>
        <declaration>I declare that I have developed my semestral work independently. All the sources I used are listed in the section References.</declaration>
            <title>Basketball Team Managment</title>
        <description>
            <title>Description</title>
                    <para>üèÄ Basketball Team Management ‚Äî Project Description</para>
                    <para></para>
                    <para>The Basketball Team Management project models the organizational, competitive, and financial structure of a professional basketball ecosystem, inspired by leagues such as the NBA and FIBA.</para>
                    <para>Its objective is to provide a comprehensive relational database that represents the key entities and interactions within professional basketball, enabling both sports-oriented and business-oriented analyses.</para>
                    <para></para>
                    <para>At the highest level, the database contains multiple leagues, each composed of several teams.</para>
                    <para>Every team is defined by attributes such as its name, home city, arena, and league affiliation.</para>
                    <para>Teams employ coaching staff, including one head coach and several assistant coaches, each specializing in areas such as offense, defense, shooting, or tactical preparation.</para>
                    <para>This structure reflects the real-world organization of modern professional basketball franchises.</para>
                    <para></para>
                    <para>Player management is a central part of the system.</para>
                    <para>The Players entity stores detailed personal and performance-related information, including age, position, height, wingspan, and per-game statistics such as points, rebounds, assists, steals, and blocks.</para>
                    <para>Historical in-game performance is captured through the PlayerStats entity, which records individual player statistics for every match played.</para>
                    <para>This enables advanced analytical tasks such as tracking improvement, comparing player roles, or evaluating match impact.</para>
                    <para></para>
                    <para>The Matches entity documents all official games between teams, storing home and away teams, final scores, and the match winner.</para>
                    <para>The database structure supports analysis of team performance, competitive balance, and season results.</para>
                    <para></para>
                    <para>Financial aspects are represented through Contracts and Sponsorships.</para>
                    <para>Contracts define salary, duration, and team affiliation for each player, ensuring that only one active contract exists per player at a given time.</para>
                    <para>Sponsorships store agreements between teams and commercial partners, including sponsor names and financial contributions.</para>
                    <para></para>
                    <para>Thanks to this structure, users can explore important analytical questions such as:</para>
                    <para></para>
                    <para>&quot;Show the number of players in each team.&quot;</para>
                    <para></para>
                    <para>Overall, this project provides a solid foundation for future Business Intelligence (BI) applications by connecting athletic performance with organizational and financial dimensions of professional basketball.</para>
        </description>
        <data_model>
            <title>Conceptual schema</title>
            <dm_picture>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="conceptual_schema.png"/>
                    </imageobject>
                </mediaobject>
            </dm_picture>
            <dm_discussion>
                        <para>‚öôÔ∏è Integrity and Object Rules (IO Discussion)</para>
                        <para></para>
                        <para>IO1 ‚Äì Trade must be between two different teams.</para>
                        <para>Each trade record involves exactly two distinct teams ‚Äî a source and a destination.</para>
                        <para>The system ensures that both teams are different, preventing self-trades.</para>
                        <para>This rule maintains logical correctness in the trade process.</para>
                        <para></para>
                        <para>IO2 ‚Äì Player cannot have more than one active contract.</para>
                        <para>Each player can only have one active contract with a single team at a time.</para>
                        <para>If a new contract is created, the previous one must be terminated or set as inactive.</para>
                        <para>This prevents data duplication and inconsistencies in salary or team affiliation.</para>
                        <para></para>
                        <para>IO3 ‚Äì One player can have only one record per match in PlayerStats.</para>
                        <para>The combination of match_id and player_id must be unique.</para>
                        <para>This guarantees that each player‚Äôs performance is recorded only once per game, ensuring statistical accuracy and eliminating duplicates.</para>
                        <para></para>
                        <para>IO4 ‚Äì Each sponsorship must be assigned to exactly one team.</para>
                        <para>Every sponsorship deal is connected to one and only one team.</para>
                        <para>This ensures that sponsorship money and agreements are properly attributed and cannot belong to multiple teams simultaneously.</para>
                        <para></para>
                        <para>IO5 - Each team must belong to exactly one league.</para>
                        <para></para>
                        <para>IO6: Each contract must be assigned to exactly one player and one team.</para>
                        <para></para>
                        <para>IO7: Each match must include at least two teams, and each team can participate in multiple matches.</para>
            </dm_discussion>
        </data_model>
        <relational_model>
            <title>Relational schema</title>
            <rm_picture>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="relational_schema.png"/>
                    </imageobject>
                </mediaobject>
            </rm_picture>
        </relational_model>
        <queries>
            <title>Queries</title>
            <dotazy>
                    <dotaz dotaz_id="D3">
                        <popis_dotazu>
                                <para>Show teams that have player taller then 215 cm?</para>
                        </popis_dotazu>
                            <relacni_algebra>{ Teams * Players(height &gt; 210) }[team_name,player_id,name,surname,height]



</relacni_algebra>
                            <sql>SELECT DISTINCT team_name,
                player_id,
                name,
                surname,
                height
FROM TEAMS
NATURAL JOIN (
    SELECT DISTINCT *
    FROM PLAYERS
    WHERE height &gt; 210
) R1;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D5">
                        <popis_dotazu>
                                <para>List all players and their team names.</para>
                        </popis_dotazu>
                            <relacni_algebra>{Players*Teams}[name,surname,team_name]</relacni_algebra>
                            <sql>SELECT DISTINCT name,
                surname,
                team_name
FROM PLAYERS
NATURAL JOIN TEAMS;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D6">
                        <popis_dotazu>
                                <para>Show all teams without sponsorships.</para>
                        </popis_dotazu>
                            <relacni_algebra>{Teams !&lt;* Sponsorships}[team_name]

</relacni_algebra>
                            <sql>SELECT DISTINCT team_name
FROM (
    SELECT DISTINCT *
    FROM TEAMS
    EXCEPT
    SELECT DISTINCT team_id,
                    team_name,
                    city,
                    arena,
                    league_id
    FROM TEAMS
    NATURAL JOIN SPONSORSHIPS
) R1;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D10">
                        <popis_dotazu>
                                <para>Players who played only against team 6 (Real Madrid) with date of the match </para>
                        </popis_dotazu>
                            <relacni_algebra>{Players *{PlayerStats * Participation}}(team_id = 6)[player_id, name, surname,match_date]
\
{Players * {PlayerStats * Participation}}(team_id != 6)[player_id, name, surname,match_date]</relacni_algebra>
                            <sql>SELECT DISTINCT player_id,
                name,
                surname,
                match_date
FROM PLAYERS
NATURAL JOIN (
    SELECT DISTINCT *
    FROM PLAYERSTATS
    NATURAL JOIN PARTICIPATION
) R1
WHERE team_id = 6
EXCEPT
SELECT DISTINCT player_id,
                name,
                surname,
                match_date
FROM PLAYERS PLAYERS1
NATURAL JOIN (
    SELECT DISTINCT *
    FROM PLAYERSTATS PLAYERSTATS1
    NATURAL JOIN PARTICIPATION PARTICIPATION1
) R2
WHERE team_id != 6;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D11">
                        <popis_dotazu>
                                <para>Select all players from the Milwaukee Bucks whose position is PF and whose RPG value is greater than 5.</para>
                        </popis_dotazu>
                            <relacni_algebra>Players(team_id = 4 ‚àß position = &apos;PF&apos; ‚àß rpg &gt; 5)[player_id, name, surname, position, rpg]</relacni_algebra>
                            <sql>SELECT DISTINCT player_id,
                name,
                surname,
                position,
                rpg
FROM PLAYERS
WHERE team_id = 4 AND position = &apos;PF&apos; AND rpg &gt; 5;

</sql>
                    </dotaz>
                    <dotaz dotaz_id="D12">
                        <popis_dotazu>
                                <para>Count how many players exist in total.</para>
                        </popis_dotazu>
                            <sql>SELECT COUNT(*) AS total_players FROM Players;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D13">
                        <popis_dotazu>
                                <para>Show team names of teams that participated in at least one match.</para>
                        </popis_dotazu>
                            <relacni_algebra>{Teams &lt;* Participation}[team_name]
</relacni_algebra>
                            <sql>SELECT DISTINCT team_name
FROM (
    SELECT DISTINCT team_id,
                    team_name,
                    city,
                    arena,
                    league_id
    FROM TEAMS
    NATURAL JOIN PARTICIPATION
) R1;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D19">
                        <popis_dotazu>
                                <para>Show players who have almost the same wingspan as the height (+5)</para>
                        </popis_dotazu>
                            <relacni_algebra>Players(wingspan = height+5)[player_id, name, surname, height, wingspan]
</relacni_algebra>
                            <sql>SELECT DISTINCT player_id,
                name,
                surname,
                height,
                wingspan
FROM PLAYERS
WHERE wingspan = height + 5;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D21">
                        <popis_dotazu>
                                <para>List players from teams in ‚ÄúPrague‚Äù.</para>
                        </popis_dotazu>
                            <sql>SELECT p.name, p.surname
FROM Players p
WHERE p.team_id IN (
    SELECT team_id FROM Teams WHERE city = &apos;Prague&apos;
);
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D22">
                        <popis_dotazu>
                                <para>List all coaches that are assigned to existing teams.</para>
                        </popis_dotazu>
                            <relacni_algebra>{teams*coaches}[name,surname]</relacni_algebra>
                            <sql>SELECT DISTINCT name,
                surname
FROM TEAMS
NATURAL JOIN COACHES;</sql>
                    </dotaz>
                    <dotaz dotaz_id="D23">
                        <popis_dotazu>
                                <para>Create a view showing teams and their total sponsorship.</para>
                        </popis_dotazu>
                            <sql>SELECT 
    t.team_id,
    t.team_name,
    COALESCE(SUM(s.amount), 0) AS total_sponsorship
FROM Teams t
LEFT JOIN Sponsorships s ON s.team_id = t.team_id
GROUP BY t.team_id, t.team_name;

SELECT
    t.team_id,
    t.team_name,
    COALESCE((
        SELECT SUM(s.amount)
        FROM Sponsorships s
        WHERE s.team_id = t.team_id
    ), 0) AS total_sponsorship
FROM Teams t;


SELECT 
    t.team_id,
    t.team_name,
    COALESCE(s.total_sponsorship, 0) AS total_sponsorship
FROM Teams t
LEFT JOIN (
    SELECT team_id, SUM(amount) AS total_sponsorship
    FROM Sponsorships
    GROUP BY team_id
) s ON s.team_id = t.team_id;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D24">
                        <popis_dotazu>
                                <para>Create backup records of player contracts for logs.</para>
                        </popis_dotazu>
                            <sql>CREATE TABLE IF NOT EXISTS ContractsBackup (
    contract_id INT,
    player_id INT,
    team_id INT,
    salary DECIMAL(10,2),
    duration VARCHAR(50)
);

BEGIN;

DELETE FROM ContractsBackup;

INSERT INTO ContractsBackup (contract_id, player_id, team_id, salary, duration)
SELECT 
    c.contract_id,
    c.player_id,
    c.team_id,
    c.salary,
    c.duration
FROM Contracts c
WHERE c.salary &gt; (
    SELECT AVG(salary) FROM Contracts
);

SELECT * FROM ContractsBackup;

ROLLBACK;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D26">
                        <popis_dotazu>
                                <para>Create a view showing players with their teams and salaries.</para>
                        </popis_dotazu>
                            <sql>CREATE OR REPLACE VIEW player_team_salary AS 
SELECT p.player_id,
p.name, 
p.surname, 
t.team_name,
c.salary,
c.duration 
FROM Players p 
JOIN Teams t ON p.team_id = t.team_id 
LEFT JOIN Contracts c ON c.player_id = p.player_id;

SELECT * FROM player_team_salary
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D28">
                        <popis_dotazu>
                                <para>Combine all players who are taller than 200 cm OR younger than 23.</para>
                        </popis_dotazu>
                            <relacni_algebra>players(height&gt;200 ‚à® age&lt;23)[name,surname]</relacni_algebra>
                            <sql>SELECT DISTINCT name,
                surname
FROM PLAYERS
WHERE height &gt; 200 OR age &lt; 23;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D29">
                        <popis_dotazu>
                                <para>Show players who are taller than 200 cm AND have PPG &gt; 12.</para>
                        </popis_dotazu>
                            <sql>SELECT name, surname FROM Players WHERE height &gt; 200
INTERSECT
SELECT name, surname FROM Players WHERE ppg &gt; 12;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D30">
                        <popis_dotazu>
                                <para>Show all teams that do not have any sponsorships.</para>
                        </popis_dotazu>
                            <sql>SELECT t.&quot;team_name&quot;
FROM Teams t
LEFT JOIN Sponsorships s ON s.team_id = t.team_id
WHERE s.team_id IS NULL;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D31">
                        <popis_dotazu>
                                <para>Show all players who are playing in Lakers.</para>
                        </popis_dotazu>
                            <relacni_algebra>{teams*players}(team_name=&apos;Los Angeles Lakers&apos;)[player_id,name,surname]</relacni_algebra>
                            <sql>SELECT DISTINCT player_id,
                name,
                surname
FROM TEAMS
NATURAL JOIN PLAYERS
WHERE team_name = &apos;Los Angeles Lakers&apos;;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D33">
                        <popis_dotazu>
                                <para>Create a view showing players, teams, and their salary.</para>
                        </popis_dotazu>
                            <sql>CREATE OR REPLACE VIEW player_salary AS
SELECT p.name, p.surname, t.team_name, c.salary,c.duration
FROM Players p
JOIN Teams t ON p.team_id = t.team_id
JOIN Contracts c ON c.player_id = p.player_id;


SELECT * FROM player_salary;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D36">
                        <popis_dotazu>
                                <para>Show all players, coaches, and teams, including those that do not have any matching records, using full outer joins.</para>
                        </popis_dotazu>
                            <sql>SELECT 
    p.player_id,
    p.name AS player_name,
    p.surname AS player_surname,
    c.coach_id,
    c.name AS coach_name,
    c.surname AS coach_surname,
    t.team_name
FROM Players p
FULL OUTER JOIN Teams t ON p.team_id = t.team_id
FULL OUTER JOIN Coaches c ON c.team_id = t.team_id;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D37">
                        <popis_dotazu>
                                <para>Find all players together with their total average stats, using a subquery inside the FROM clause.</para>
                        </popis_dotazu>
                            <sql>SELECT p.player_id, p.name, p.surname, stats.avg_points
FROM Players p
JOIN (
    SELECT player_id, ROUND(AVG(points)) AS avg_points
    FROM PlayerStats
    GROUP BY player_id
) stats ON stats.player_id = p.player_id;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D38">
                        <popis_dotazu>
                                <para>Show players and how many matches each player has participated in, using a subquery in the SELECT clause.</para>
                        </popis_dotazu>
                            <sql>SELECT 
    p.player_id,
    p.name,
    p.surname,
    (SELECT COUNT(*) 
     FROM PlayerStats ps 
     WHERE ps.player_id = p.player_id) AS matches_played
FROM Players p;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D39">
                        <popis_dotazu>
                                <para>List the names of all teams and all coach names using UNION.</para>
                        </popis_dotazu>
                            <sql>SELECT team_name AS name
FROM Teams

UNION

SELECT name || &apos; &apos; || surname AS name
FROM Coaches;

</sql>
                    </dotaz>
                    <dotaz dotaz_id="D42">
                        <popis_dotazu>
                                <para>Increase the salary of all players who belong to the team with the highest total scoring.</para>
                        </popis_dotazu>
                            <sql>UPDATE Contracts c
SET salary = salary * 1.10  
WHERE c.team_id = (
    SELECT team_id
    FROM (
        SELECT 
            pa.team_id,
            SUM(ps.points) AS total_points
        FROM Participation pa
        JOIN PlayerStats ps ON ps.match_id = pa.match_id
        GROUP BY pa.team_id
        ORDER BY total_points DESC
        LIMIT 1
    ) AS best_team
);

SELECT * FROM Contracts;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D43">
                        <popis_dotazu>
                                <para>Delete all player statistics related to the player with the lowest total assists.</para>
                        </popis_dotazu>
                            <sql>DELETE FROM PlayerStats
WHERE player_id IN (
    SELECT p.player_id
    FROM Players p
    JOIN PlayerStats ps ON ps.player_id = p.player_id
    GROUP BY p.player_id
    ORDER BY SUM(ps.assists) ASC
    LIMIT 1
);
SELECT * FROM PlayerStats;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D44">
                        <popis_dotazu>
                                <para>Calculate how many possible matchups exist between all players and all teams, assuming each player could hypothetically play for each team.</para>
                        </popis_dotazu>
                            <sql>SELECT COUNT(*) AS total_combinations
FROM Players CROSS JOIN Teams;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D45">
                        <popis_dotazu>
                                <para>For every position show the total average points (PPG) of all players.
Only include positions where the total PPG is above 50.
Sort the result by total PPG descending.</para>
                        </popis_dotazu>
                            <sql>SELECT position, SUM(ppg) AS total_ppg
FROM Players
WHERE age &gt; 0
GROUP BY position
HAVING SUM(ppg) &gt; 50
ORDER BY total_ppg DESC;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D46">
                        <popis_dotazu>
                                <para>Display all matches and teams participating in them</para>
                        </popis_dotazu>
                            <sql>SELECT 
    pa.team_id,
    t.team_name,
    pa.match_id
FROM Participation pa
JOIN Teams t ON t.team_id = pa.team_id;
</sql>
                    </dotaz>
                    <dotaz dotaz_id="D47">
                        <popis_dotazu>
                                <para>Teams that participated in all league matches(none in our case)</para>
                        </popis_dotazu>
                            <sql>SELECT t.team_id, t.team_name
FROM Teams t
WHERE NOT EXISTS (
    SELECT m.match_id
    FROM Matches m
    WHERE NOT EXISTS (
        SELECT 1
        FROM Participation pa
        WHERE pa.team_id = t.team_id
          AND pa.match_id = m.match_id
    )
);
</sql>
                    </dotaz>
            </dotazy>
            <pokryti_dotazu>
                        <radek>
                            <kategorie>A</kategorie>
                            <odkazy>
                                    <link url="#D3">D3</link>
                                    <link url="#D5">D5</link>
                                    <link url="#D6">D6</link>
                                    <link url="#D13">D13</link>
                                    <link url="#D22">D22</link>
                                    <link url="#D23">D23</link>
                                    <link url="#D26">D26</link>
                                    <link url="#D30">D30</link>
                                    <link url="#D31">D31</link>
                                    <link url="#D33">D33</link>
                                    <link url="#D36">D36</link>
                                    <link url="#D37">D37</link>
                                    <link url="#D42">D42</link>
                                    <link url="#D43">D43</link>
                                    <link url="#D46">D46</link>
                            </odkazy>
                            <kategorie_popis>A - Positive query on at least two joined tables</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>AR</kategorie>
                            <odkazy>
                                    <link url="#D3">D3</link>
                                    <link url="#D5">D5</link>
                                    <link url="#D6">D6</link>
                                    <link url="#D13">D13</link>
                                    <link url="#D22">D22</link>
                                    <link url="#D31">D31</link>
                            </odkazy>
                            <kategorie_popis>A (RA) - Positive query on at least two joined tables</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>B</kategorie>
                            <odkazy>
                                    <link url="#D30">D30</link>
                            </odkazy>
                            <kategorie_popis>B - Negative query on at least two joined tables</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>C</kategorie>
                            <odkazy>
                                    <link url="#D31">D31</link>
                            </odkazy>
                            <kategorie_popis>C - Select only those related to...</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>D1</kategorie>
                            <odkazy>
                                    <link url="#D46">D46</link>
                            </odkazy>
                            <kategorie_popis>D1 - Select all related to - universal quantification query</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>D2</kategorie>
                            <odkazy>
                                    <link url="#D47">D47</link>
                            </odkazy>
                            <kategorie_popis>D2 - Result check of D1 query</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>F1</kategorie>
                            <odkazy>
                                    <link url="#D26">D26</link>
                                    <link url="#D33">D33</link>
                                    <link url="#D37">D37</link>
                                    <link url="#D42">D42</link>
                                    <link url="#D43">D43</link>
                                    <link url="#D46">D46</link>
                            </odkazy>
                            <kategorie_popis>F1 - JOIN ON</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>F2</kategorie>
                            <odkazy>
                                    <link url="#D3">D3</link>
                                    <link url="#D5">D5</link>
                                    <link url="#D6">D6</link>
                                    <link url="#D10">D10</link>
                                    <link url="#D13">D13</link>
                                    <link url="#D22">D22</link>
                                    <link url="#D31">D31</link>
                            </odkazy>
                            <kategorie_popis>F2 - NATURAL JOIN|JOIN USING</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>F3</kategorie>
                            <odkazy>
                                    <link url="#D44">D44</link>
                            </odkazy>
                            <kategorie_popis>F3 - CROSS JOIN</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>F4</kategorie>
                            <odkazy>
                                    <link url="#D23">D23</link>
                                    <link url="#D26">D26</link>
                                    <link url="#D30">D30</link>
                            </odkazy>
                            <kategorie_popis>F4 - LEFT|RIGHT OUTER JOIN</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>F5</kategorie>
                            <odkazy>
                                    <link url="#D36">D36</link>
                            </odkazy>
                            <kategorie_popis>F5 - FULL (OUTER) JOIN</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>G1</kategorie>
                            <odkazy>
                                    <link url="#D21">D21</link>
                                    <link url="#D24">D24</link>
                                    <link url="#D42">D42</link>
                                    <link url="#D43">D43</link>
                                    <link url="#D47">D47</link>
                            </odkazy>
                            <kategorie_popis>G1 - Nested query in WHERE clause</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>G2</kategorie>
                            <odkazy>
                                    <link url="#D6">D6</link>
                                    <link url="#D13">D13</link>
                                    <link url="#D37">D37</link>
                                    <link url="#D42">D42</link>
                            </odkazy>
                            <kategorie_popis>G2 - Nested query in FROM clause</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>G2R</kategorie>
                            <odkazy>
                                    <link url="#D6">D6</link>
                                    <link url="#D13">D13</link>
                            </odkazy>
                            <kategorie_popis>G2 (RA) - Nested query in FROM clause</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>G3</kategorie>
                            <odkazy>
                                    <link url="#D23">D23</link>
                                    <link url="#D38">D38</link>
                            </odkazy>
                            <kategorie_popis>G3 - Nested query in SELECT clause</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>G4</kategorie>
                            <odkazy>
                                    <link url="#D47">D47</link>
                            </odkazy>
                            <kategorie_popis>G4 - Correlated nested query (EXISTS|NOT EXISTS)</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>H1</kategorie>
                            <odkazy>
                                    <link url="#D39">D39</link>
                            </odkazy>
                            <kategorie_popis>H1 - Set unification - UNION</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>H2</kategorie>
                            <odkazy>
                                    <link url="#D6">D6</link>
                                    <link url="#D10">D10</link>
                            </odkazy>
                            <kategorie_popis>H2 - Set difference - MINUS or EXCEPT</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>H3</kategorie>
                            <odkazy>
                                    <link url="#D29">D29</link>
                            </odkazy>
                            <kategorie_popis>H3 - Set intersection - INTERSECT</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>I1</kategorie>
                            <odkazy>
                                    <link url="#D12">D12</link>
                                    <link url="#D23">D23</link>
                                    <link url="#D24">D24</link>
                                    <link url="#D37">D37</link>
                                    <link url="#D38">D38</link>
                                    <link url="#D42">D42</link>
                                    <link url="#D43">D43</link>
                                    <link url="#D44">D44</link>
                                    <link url="#D45">D45</link>
                            </odkazy>
                            <kategorie_popis>I1 - Aggregate functions (count|sum|min|max|avg)</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>I2</kategorie>
                            <odkazy>
                                    <link url="#D23">D23</link>
                                    <link url="#D37">D37</link>
                                    <link url="#D42">D42</link>
                                    <link url="#D43">D43</link>
                                    <link url="#D45">D45</link>
                            </odkazy>
                            <kategorie_popis>I2 - Aggregate function over grouped rows - GROUP BY (HAVING)</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>J</kategorie>
                            <odkazy>
                                    <link url="#D23">D23</link>
                            </odkazy>
                            <kategorie_popis>J - Same query in 3 different sql statements</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>K</kategorie>
                            <odkazy>
                                    <link url="#D45">D45</link>
                            </odkazy>
                            <kategorie_popis>K - All clauses in one query - SELECT FROM WHERE GROUP BY HAVING ORDER BY</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>L</kategorie>
                            <odkazy>
                                    <link url="#D26">D26</link>
                                    <link url="#D33">D33</link>
                            </odkazy>
                            <kategorie_popis>L - View</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>M</kategorie>
                            <odkazy>
                                    <link url="#D33">D33</link>
                            </odkazy>
                            <kategorie_popis>M - Query over a view</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>N</kategorie>
                            <odkazy>
                                    <link url="#D24">D24</link>
                            </odkazy>
                            <kategorie_popis>N - INSERT, which insert a set of rows, which are the result of another subquery (an INSERT command which has VALUES clause replaced by a nested query.</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>O</kategorie>
                            <odkazy>
                                    <link url="#D42">D42</link>
                            </odkazy>
                            <kategorie_popis>O - UPDATE with nested SELECT statement</kategorie_popis>
                        </radek>
                        <radek>
                            <kategorie>P</kategorie>
                            <odkazy>
                                    <link url="#D43">D43</link>
                            </odkazy>
                            <kategorie_popis>P - DELETE with nested SELECT statement</kategorie_popis>
                        </radek>
            </pokryti_dotazu>
        </queries>
        <scripts>
            <title>Scripts</title>
            <para>
                <link url="./create.sql">create.sql</link>
            </para>
            <para>
                <link url="./insert.sql">insert.sql</link>
            </para>
        </scripts>
        <conclussions>
            <title>Conclusion</title>
        </conclussions>
        <references>
            <title>References</title>
                    <para>No external literature or formal published sources were used in this project.</para>
                    <para>All explanations and clarifications were based on general database knowledge and interactive assistance, without relying on specific documents or citations.</para>
                    <para>Part of the data inserted into the database schema (in the INSERT script) was artificially generated with the help of an interactive assistance tool (ChatGPT) for demonstration purposes only.</para>
        </references>
    </content>
</sproject>
